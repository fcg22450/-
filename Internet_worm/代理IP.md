# 代理IP

## 代理IP与代理服务器:

1. 代理IP分类

   - 透明代理IP
     - 服务器知道你在使用代理IP,并且知道你的真实IP
   - 匿名IP
     - 服务器知道你在使用代理IP,但不知道你的真正IP
   - 高匿名IP
     - 服务器不知道你在使用代理IP,并且不知道你的真正IP

2. 代理IP分为两种:

   - 基于接口
     - 获取固定数量的代理IP
     - 这些IP地址时固定的,固定数量,如果你的请求数量过多的话,同样又被发现的风险
   - 基于隧道
     - 这种代理IP基于云端服务器存在,拥有一个云端的IP池
     - 每次使用时,都会从庞大的IP池中随即调用代理IP
     - 因此,基于隧道的代理IP在使用时几乎不会出现重复使用的IP
     - 相比较固定数量的基于接口IP,更加的安全
   - 相比较起来,使用基于隧道的代理IP更加好用,但是相对的是,基于隧道的代理IP价格更加昂贵

3. ```python
   import requests
   
   url = 'http://httpbin.org/get'
   
   proxies = {
       "http": "http://60.167.103.60:9999",
       "https": "https://183.166.138.137:9999"
   }
   res = requests.get(url=url,proxies=proxies)
   print(res.text)
   ```

4. 在进行高频请求的时候,如果你的爬虫被检测了出来,将会被返回一个特殊的错误:ConectionPool

   1. 这个错误的意思就是说: 你已经被发现了,并且你用来进行请求的IP已经被禁掉了

5. ```python
   proxies = [
       {"http": "http://60.167.103.60:9999"},
       {"http": "http://60.167.103.60:9999"},
       {"http": "http://60.167.103.60:9999"},
       {"http": "http://60.167.103.60:9999"}
   ]
   ```

6. 代理ip池写法,创建一个列表,存储准备好的IP,然后使用随机模块进行随即调用,这样可以确保每次都会随机抽取一个代理ip来发送请求

